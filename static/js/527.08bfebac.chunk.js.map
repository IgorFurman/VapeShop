{"version":3,"file":"static/js/527.08bfebac.chunk.js","mappings":"mSAQaA,EAAa,SAAHC,GAA+B,IAAzBC,EAAOD,EAAPC,QAASC,EAAQF,EAARE,SACrCC,GAAeC,EAAAA,EAAAA,IAAaC,EAAAA,GAArBC,GAA0BC,EAAAA,EAAAA,GAAAJ,EAAA,GAAtB,GAEXK,GAAsCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAH,EAAAA,EAAAA,GAAAC,EAAA,GAA3CG,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GACjCG,GAA8BJ,EAAAA,EAAAA,UAAS,CACrCK,UAAWZ,EAASY,WAAa,GACjCC,SAAUb,EAASa,UAAY,GAC/BC,MAAOd,EAASc,OAAS,GACzBC,KAAMf,EAASe,MAAQ,GACvBC,OAAQhB,EAASgB,QAAU,GAC3BC,WAAYjB,EAASiB,YAAc,KACnCC,GAAAb,EAAAA,EAAAA,GAAAM,EAAA,GAPKQ,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GASrBG,EAAoB,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,GAEvBzB,EAAK,CAADwB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EACD1B,EAAK2B,eAAetB,GAAa,KAAD,EACtCuB,MAAM,2CAAiC,OAAAJ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAGxCM,QAAQC,MAAM,mDAAmCP,EAAAK,IAAS,yBAAAL,EAAAQ,OAAA,GAAAV,EAAA,kBAE3D,kBATyB,OAAAJ,EAAAe,MAAA,KAAAC,UAAA,KAWpBC,EAAmB,eAAAC,GAAAjB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgB,IAAA,OAAAjB,EAAAA,EAAAA,KAAAG,MAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,UAAAY,EAAAb,KAAA,GAEtBzB,EAAK,CAADsC,EAAAZ,KAAA,eAAAY,EAAAZ,KAAA,GACDa,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,QAASzC,EAAK0C,KAAM3B,GAAS,KAAD,EACjDa,MAAM,sCAAiC,OAAAU,EAAAZ,KAAA,gBAAAY,EAAAb,KAAA,EAAAa,EAAAT,GAAAS,EAAA,SAGxCR,QAAQC,MAAM,gDAAqCO,EAAAT,IAAS,yBAAAS,EAAAN,OAAA,GAAAK,EAAA,kBAE7D,kBATwB,OAAAD,EAAAH,MAAA,KAAAC,UAAA,KAWnBS,EAAe,SAACC,GACrB5B,GAAU6B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACR9B,GAAO,IAAA+B,EAAAA,EAAAA,GAAA,GACTF,EAAEG,OAAOC,KAAOJ,EAAEG,OAAOE,QAE5B,EAEA,OACCC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,SAAC,2BAClCC,EAAAA,EAAAA,KAAA,SACCC,KAAK,WACLL,MAAO5C,EACPkD,SAAU,SAACX,GAAC,OAAKtC,EAAesC,EAAEG,OAAOE,MAAM,KAEhDI,EAAAA,EAAAA,KAAA,UACGF,UAAU,kBACVK,QAASvC,EAAqBmC,SAAC,2BAElCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,SAAC,uBAClCC,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLN,KAAK,YACLC,MAAOlC,EAAQP,UACf+C,SAAUZ,EACVc,YAAY,eAEbJ,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLN,KAAK,WACLC,MAAOlC,EAAQN,SACf8C,SAAUZ,EACVc,YAAY,cAEbJ,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLN,KAAK,QACLC,MAAOlC,EAAQL,MACf6C,SAAUZ,EACVc,YAAY,WAEbJ,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLN,KAAK,OACLC,MAAOlC,EAAQJ,KACf4C,SAAUZ,EACVc,YAAY,YAEbJ,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLN,KAAK,SACLC,MAAOlC,EAAQH,OACf2C,SAAUZ,EACVc,YAAY,WAEbJ,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLN,KAAK,aACLC,MAAOlC,EAAQF,WACf0C,SAAUZ,EACVc,YAAY,kBAEbJ,EAAAA,EAAAA,KAAA,UAAQF,UAAU,kBAAkBK,QAASrB,EAAoBiB,SAAC,uBAGlEC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,oBAAoBK,QAAS7D,EAAQyD,SAAC,cAK3D,ECpGaM,EAAO,WACnB,IAAA7D,GAA+BC,EAAAA,EAAAA,IAAaC,EAAAA,GAAK4D,GAAA1D,EAAAA,EAAAA,GAAAJ,EAAA,GAA1CG,EAAI2D,EAAA,GAGXzD,GAHoByD,EAAA,GAAOA,EAAA,IACZC,EAAAA,EAAAA,MAAPC,IAEwB1D,EAAAA,EAAAA,UAAS,OAAKC,GAAAH,EAAAA,EAAAA,GAAAC,EAAA,GAAvCN,EAAQQ,EAAA,GAAE0D,EAAW1D,EAAA,GAC5BG,GAAsCJ,EAAAA,EAAAA,WAAS,GAAKW,GAAAb,EAAAA,EAAAA,GAAAM,EAAA,GAAhCwD,GAAFjD,EAAA,GAAgBA,EAAA,IAClCkD,GAAkC7D,EAAAA,EAAAA,UAAS,MAAK8D,GAAAhE,EAAAA,EAAAA,GAAA+D,EAAA,GAA9BE,GAAFD,EAAA,GAAcA,EAAA,IAC9BE,GAAoChE,EAAAA,EAAAA,WAAS,GAAMiE,GAAAnE,EAAAA,EAAAA,GAAAkE,EAAA,GAA5CE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAEhCG,GAAkDpE,EAAAA,EAAAA,WAAS,GAAMqE,GAAAvE,EAAAA,EAAAA,GAAAsE,EAAA,GAA1DE,EAAiBD,EAAA,GAAEE,EAAoBF,EAAA,GAE9CG,GAAgDxE,EAAAA,EAAAA,UAAS,IAAGyE,GAAA3E,EAAAA,EAAAA,GAAA0E,EAAA,GAArDE,EAAgBD,EAAA,GACvBE,GAD4CF,EAAA,IACAzE,EAAAA,EAAAA,UAAS,KAAG4E,GAAA9E,EAAAA,EAAAA,GAAA6E,EAAA,GAAjDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GAElCG,GAAWC,EAAAA,EAAAA,OAIjBC,EAAAA,EAAAA,YAAU,WACT,GAAIpF,EAAM,CACT,IAAMqF,GAAcC,EAAAA,EAAAA,KACnB9C,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,QAASzC,EAAK0C,MACtB,SAACF,GACAsB,EAAYtB,EAAI+C,QAChBxB,GAAe,EAChB,IACA,SAAChC,GACAmC,EAAanC,GACbgC,GAAe,EAChB,IAGD,OAAO,kBAAMsB,GAAc,CAC5B,CACD,GAAG,CAACrF,KAEJoF,EAAAA,EAAAA,YAAU,WACT,GAAIxF,EAAU,CACb,IAAI4F,EAAY5F,EAAS4F,UAEzB,IAAKC,MAAMC,QAAQF,GAAY,CAC9B,GAAyB,kBAAdA,GAAwC,OAAdA,EASpC,YAJA1D,QAAQC,MACP,gDACAyD,GANDA,EAAYG,OAAOC,KAAKJ,GACtBK,QAAO,SAACC,GAAG,OAAKN,EAAUM,EAAI,IAC9BC,IAAIC,OAQR,CAEA,IAAMC,EAAiBT,EAAUO,KAAI,SAAClC,GAErC,OADA/B,QAAQoE,IAAI,cAADC,OAAetC,KACnBrB,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,WAAY2D,OAAOvC,GACnC,IACA,GAAI4B,MAAMC,QAAQO,IAAmBA,EAAeI,OAAS,EAAG,CAC/D,IAAMC,EAAmB,eAAA5G,GAAAyB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAiF,EAAAC,EAAA,OAAApF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEQ+E,QAAQC,IACzCT,EAAeF,KAAI,SAACY,GAAU,OAC7BC,EAAAA,EAAAA,IAAOD,GAAYE,OAAM,SAAC9E,GAAK,OAC9BD,QAAQoE,IAAI,mCAA0BnE,EAAM,GAC5C,KAED,KAAD,EANKwE,EAAmB/E,EAAAsF,KAQnBN,EAAuBD,EAC3BV,QAAO,SAACrD,GAAG,OAAKA,EAAIuE,MAAM,IAC1BhB,KAAI,SAACvD,GAAG,OAAAK,EAAAA,EAAAA,GAAA,CAAQgB,GAAIrB,EAAIqB,IAAOrB,EAAI+C,OAAM,IAE3CN,EAAkBuB,GAClB1E,QAAQoE,IAAIM,GAAsBhF,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAElCM,QAAQC,MAAM,yDAA2CP,EAAAK,IAAS,yBAAAL,EAAAQ,OAAA,GAAAV,EAAA,kBAEnE,kBAnBwB,OAAA5B,EAAAuC,MAAA,KAAAC,UAAA,KAqBzBoE,GACD,CACD,CACD,GAAG,CAAC1G,IAEJ,IAUMoH,EAAa,eAAA9F,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgB,IAAA,OAAAjB,EAAAA,EAAAA,KAAAG,MAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,cAAAY,EAAAb,KAAA,EAAAa,EAAAZ,KAAA,GAEduF,EAAAA,EAAAA,IAAQlH,EAAAA,GAAM,KAAD,EACnBmF,EAAS,UAAU5C,EAAAZ,KAAA,eAAAY,EAAAb,KAAA,EAAAa,EAAAT,GAAAS,EAAA,SAEnBR,QAAQC,MAAM,2DAAsCO,EAAAT,IAAS,wBAAAS,EAAAN,OAAA,GAAAK,EAAA,kBAE9D,kBAPkB,OAAAnB,EAAAe,MAAA,KAAAC,UAAA,KASnB,OACCgB,EAAAA,EAAAA,MAAAgE,EAAAA,SAAA,CAAA9D,SAAA,EACCF,EAAAA,EAAAA,MAAA,WAASC,UAAU,OAAMC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,SAAC,2BACzBiB,GAAczE,IACfsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EACnCF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eAAS,IAAExD,EAASY,cAExB0C,EAAAA,EAAAA,MAAA,KAAGC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,cAAa,IAAExD,EAASa,aAE5ByC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,WAAU,IAAExD,EAASc,UAEzBwC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,YAAW,IAAExD,EAASe,SAE1BuC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qBAAoB,IAAExD,EAASgB,WAEnCsC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,YAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,kBAAiB,IAAExD,EAASiB,eAGhCwC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,gBAAgBK,QA7ChB,WACvBkB,EAAqB9E,GACrB0E,GAAc,EACf,EA0CiElB,SAAC,oCAK7DqB,IACApB,EAAAA,EAAAA,KAAC5D,EAAU,CACVE,QA/CmB,WACxB+E,GAAqB,GACrBJ,GAAc,EACf,EA6CM1E,SAAU6E,QAIbvB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,cAAaC,SAAC,8BACC,IAA5ByB,EAAiBwB,QAAehD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,2BAAoBC,EAAAA,EAAAA,KAAA,cAEzDH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EAClCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,cAAaC,SAAC,aACD,IAA1B4B,EAAeqB,QACfhD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,iCAEH4B,EAAee,KAAI,SAACoB,EAASC,GAAK,OACjClE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAAD,SAAK+D,EAAQE,eACbhE,EAAAA,EAAAA,KAACiE,EAAAA,GAAI,CAEJnE,UAAU,sBACVoE,GAAE,aAAApB,OAAegB,EAAQtD,IAAKT,SAC9B,iCAIFC,EAAAA,EAAAA,KAAA,OACCF,UAAU,uBACVqE,IAAKL,EAAQM,aACbC,IAAKP,EAAQE,gBAd2BD,EAgBpC,WAKV/D,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uBAAsBC,UACpCC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,kBAAkBK,QAASwD,EAAc5D,SAAC,yBAMhE,C","sources":["pages/user/user-profile/update-user/update-user.js","pages/user/user-profile/user-profile.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { auth } from '../../../../config/firebase-config';\r\nimport { doc, setDoc } from 'firebase/firestore';\r\nimport { db } from '../../../../config/firebase-config';\r\n\r\nimport '../user-profile.css';\r\n\r\nexport const UpdateUser = ({ onClose, userData }) => {\r\n\tconst [user] = useAuthState(auth);\r\n\r\n\tconst [newPassword, setNewPassword] = useState('');\r\n  const [profile, setProfile] = useState({\r\n    firstName: userData.firstName || '',\r\n    lastName: userData.lastName || '',\r\n    email: userData.email || '',\r\n    city: userData.city || '',\r\n    street: userData.street || '',\r\n    postalCode: userData.postalCode || '',\r\n  });\r\n\r\n\tconst handleChangePassword = async () => {\r\n\t\ttry {\r\n\t\t\tif (user) {\r\n\t\t\t\tawait user.updatePassword(newPassword);\r\n\t\t\t\talert('Hasło zostało zaktualizowane!');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Błąd podczas aktualizacji hasła: ', error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleChangeProfile = async () => {\r\n\t\ttry {\r\n\t\t\tif (user) {\r\n\t\t\t\tawait setDoc(doc(db, 'users', user.uid), profile);\r\n\t\t\t\talert('Profil został zaktualizowany!');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Błąd podczas aktualizacji profilu: ', error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetProfile({\r\n\t\t\t...profile,\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='update-user'>\r\n\t\t\t<h2 className='update-user-title'>Aktualizuj hasło</h2>\r\n\t\t\t<input\r\n\t\t\t\ttype='password'\r\n\t\t\t\tvalue={newPassword}\r\n\t\t\t\tonChange={(e) => setNewPassword(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<button \r\n      className=\"update-user-btn\"\r\n      onClick={handleChangePassword}>Aktualizuj hasło</button>\r\n\r\n\t\t\t<h2 className='update-user-title'>Aktualizuj profil</h2>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='firstName'\r\n\t\t\t\tvalue={profile.firstName}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder='Imię'\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='lastName'\r\n\t\t\t\tvalue={profile.lastName}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder='Nazwisko'\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='email'\r\n\t\t\t\tvalue={profile.email}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder='Email'\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='city'\r\n\t\t\t\tvalue={profile.city}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder='Miasto'\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='street'\r\n\t\t\t\tvalue={profile.street}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder='Ulica'\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='postalCode'\r\n\t\t\t\tvalue={profile.postalCode}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder='Kod pocztowy'\r\n\t\t\t/>\r\n\t\t\t<button className='update-user-btn' onClick={handleChangeProfile}>\r\n\t\t\t\tAktualizuj profil\r\n\t\t\t</button>\r\n\t\t\t<button className='update-user-close' onClick={onClose}>\r\n\t\t\t\tZamknij\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nimport { signOut } from 'firebase/auth';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { doc, onSnapshot, getDoc } from 'firebase/firestore';\r\nimport { auth, db } from '../../../config/firebase-config';\r\nimport { UpdateUser } from './update-user/update-user';\r\nimport './user-profile.css';\r\n\r\nexport const User = () => {\r\n\tconst [user, loading, error] = useAuthState(auth);\r\n\tconst { id } = useParams();\r\n\r\n\tconst [userData, setUserData] = useState(null);\r\n\tconst [userLoading, setUserLoading] = useState(true);\r\n\tconst [userError, setUserError] = useState(null);\r\n\tconst [isEditMode, setIsEditMode] = useState(false);\r\n\r\n\tconst [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\r\n\r\n\tconst [userOrderHistory, setUserOrderHistory] = useState([]);\r\n\tconst [userFavourites, setUserFavourites] = useState([]);\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (user) {\r\n\t\t\tconst unsubscribe = onSnapshot(\r\n\t\t\t\tdoc(db, 'users', user.uid),\r\n\t\t\t\t(doc) => {\r\n\t\t\t\t\tsetUserData(doc.data());\r\n\t\t\t\t\tsetUserLoading(false);\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tsetUserError(error);\r\n\t\t\t\t\tsetUserLoading(false);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\treturn () => unsubscribe();\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userData) {\r\n\t\t\tlet favorites = userData.favorites;\r\n\r\n\t\t\tif (!Array.isArray(favorites)) {\r\n\t\t\t\tif (typeof favorites === 'object' && favorites !== null) {\r\n\t\t\t\t\tfavorites = Object.keys(favorites)\r\n\t\t\t\t\t\t.filter((key) => favorites[key])\r\n\t\t\t\t\t\t.map(Number);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(\r\n\t\t\t\t\t\t'Favorites should be an array or object, got: ',\r\n\t\t\t\t\t\tfavorites\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst productDocRefs = favorites.map((id) => {\r\n\t\t\t\tconsole.log(`productId: ${id}`);\r\n\t\t\t\treturn doc(db, 'products', String(id));\r\n\t\t\t});\r\n\t\t\tif (Array.isArray(productDocRefs) && productDocRefs.length > 0) {\r\n\t\t\t\tconst getFavoriteProducts = async () => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst favoriteProductDocs = await Promise.all(\r\n\t\t\t\t\t\t\tproductDocRefs.map((productRef) =>\r\n\t\t\t\t\t\t\t\tgetDoc(productRef).catch((error) =>\r\n\t\t\t\t\t\t\t\t\tconsole.log('Błąd odczytu dokumentu', error)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tconst favoriteProductsData = favoriteProductDocs\r\n\t\t\t\t\t\t\t.filter((doc) => doc.exists)\r\n\t\t\t\t\t\t\t.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n\r\n\t\t\t\t\t\tsetUserFavourites(favoriteProductsData);\r\n\t\t\t\t\t\tconsole.log(favoriteProductsData);\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('Błąd podczas odczytu ulubionych produktów', error);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tgetFavoriteProducts();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [userData]);\r\n\r\n\tconst handleOpenModal = () => {\r\n\t\tsetIsUpdateModalOpen(userData);\r\n\t\tsetIsEditMode(true);\r\n\t};\r\n\r\n\tconst handleCloseModal = () => {\r\n\t\tsetIsUpdateModalOpen(false);\r\n\t\tsetIsEditMode(false);\r\n\t};\r\n\r\n\tconst handleSignOut = async () => {\r\n\t\ttry {\r\n\t\t\tawait signOut(auth);\r\n\t\t\tnavigate('/login');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Wystąpił błąd podczas wylogowywania.', error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<section className='user'>\r\n\t\t\t\t<div className='box user-data'>\r\n\t\t\t\t\t<h2 className='user-title'>Dane użytkownika</h2>\r\n\t\t\t\t\t{!isEditMode && userData && (\r\n\t\t\t\t\t\t<div className='user-info-container'>\r\n\t\t\t\t\t\t\t<p className='user-info'>\r\n\t\t\t\t\t\t\t\t<b>Imię:</b> {userData.firstName}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='user-info'>\r\n\t\t\t\t\t\t\t\t<b>Nazwisko:</b> {userData.lastName}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='user-info'>\r\n\t\t\t\t\t\t\t\t<b>Email:</b> {userData.email}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='user-info'>\r\n\t\t\t\t\t\t\t\t<b>Miasto:</b> {userData.city}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='user-info'>\r\n\t\t\t\t\t\t\t\t<b>Ulica i nr domu:</b> {userData.street}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='user-info'>\r\n\t\t\t\t\t\t\t\t<b>Kod pocztowy:</b> {userData.postalCode}\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<button className='user-edit-btn' onClick={handleOpenModal}>\r\n\t\t\t\t\t\t\t\tEdytuj dane użytkownika\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isUpdateModalOpen && (\r\n\t\t\t\t\t\t<UpdateUser\r\n\t\t\t\t\t\t\tonClose={handleCloseModal}\r\n\t\t\t\t\t\t\tuserData={isUpdateModalOpen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='box user-order-story'>\r\n\t\t\t\t\t<h2 className=' user-title'>Historia zamówień</h2>\r\n\t\t\t\t\t{userOrderHistory.length === 0 ? <p>Brak zamówień</p> : <div></div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='box user-favourite'>\r\n\t\t\t\t\t<h2 className=' user-title'>Ulubione</h2>\r\n\t\t\t\t\t{userFavourites.length === 0 ? (\r\n\t\t\t\t\t\t<p>Brak ulubionych produktów</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tuserFavourites.map((product, index) => (\r\n\t\t\t\t\t\t\t<div className='user-favourite-list' key={index}>\r\n\t\t\t\t\t\t\t\t<div className='user-favourite-name'>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.productName}</h3>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n                  \r\n\t\t\t\t\t\t\t\t\t\tclassName='user-favourite-link'\r\n\t\t\t\t\t\t\t\t\t\tto={`/products/${product.id}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tZobacz szczegóły\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='user-favourite-image'\r\n\t\t\t\t\t\t\t\t\tsrc={product.productImage}\r\n\t\t\t\t\t\t\t\t\talt={product.productName}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<div className='user-logut-container'>\r\n\t\t\t\t<button className='user-logout-btn' onClick={handleSignOut}>\r\n\t\t\t\t\tWyloguj się\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n"],"names":["UpdateUser","_ref","onClose","userData","_useAuthState","useAuthState","auth","user","_slicedToArray","_useState","useState","_useState2","newPassword","setNewPassword","_useState3","firstName","lastName","email","city","street","postalCode","_useState4","profile","setProfile","handleChangePassword","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","updatePassword","alert","t0","console","error","stop","apply","arguments","handleChangeProfile","_ref3","_callee2","_context2","setDoc","doc","db","uid","handleChange","e","_objectSpread","_defineProperty","target","name","value","_jsxs","className","children","_jsx","type","onChange","onClick","placeholder","User","_useAuthState2","useParams","id","setUserData","setUserLoading","_useState5","_useState6","setUserError","_useState7","_useState8","isEditMode","setIsEditMode","_useState9","_useState10","isUpdateModalOpen","setIsUpdateModalOpen","_useState11","_useState12","userOrderHistory","_useState13","_useState14","userFavourites","setUserFavourites","navigate","useNavigate","useEffect","unsubscribe","onSnapshot","data","favorites","Array","isArray","Object","keys","filter","key","map","Number","productDocRefs","log","concat","String","length","getFavoriteProducts","favoriteProductDocs","favoriteProductsData","Promise","all","productRef","getDoc","catch","sent","exists","handleSignOut","signOut","_Fragment","product","index","productName","Link","to","src","productImage","alt"],"sourceRoot":""}