"use strict";(self.webpackChunkvapeshop_react=self.webpackChunkvapeshop_react||[]).push([[918,236],{7312:function(a,e,s){s.d(e,{x:function(){return d}});var o=s(9439),n=s(2791),t=s(1087),i=s(7948),l=s.n(i),r=s(5561),c=s(184),d=function(a){var e=a.isModalVisible,s=a.handleCloseModal,i=a.id,d=(0,n.useContext)(r.I),u=d.products,p=d.cartItems,m=d.removeFromCart,h=d.validateCartItemCount,x=u.find((function(a){return a.id===Number(i)}))||{},v=x.productName,j=x.productImage,f=x.availability,N=(0,n.useState)(!1),b=(0,o.Z)(N,2),C=b[0],g=b[1];return(0,c.jsx)(l(),{isOpen:e,onRequestClose:s,className:"popup-container ".concat(e?"fade-in":"fade-out"),overlayClassName:"add-to-cart-modal-overlay",children:(0,c.jsxs)("div",{className:"popup-box",children:[(0,c.jsxs)("h3",{className:"popup-message",children:[v," zosta\u0142 dodany do koszyka!"]}),(0,c.jsxs)("div",{className:"popup-quantity-control",children:[(0,c.jsx)("img",{src:j,alt:v,className:"popup-image"}),C&&(0,c.jsxs)("p",{className:"popup-max-info",children:["Osi\u0105gni\u0119to maksymaln\u0105 ilo\u015b\u0107 dla produktu ",v,"."]}),(0,c.jsxs)("div",{className:"popup-add-remove-container",children:[(0,c.jsx)("button",{onClick:function(){return m(i)},children:" - "}),(0,c.jsx)("input",{value:p[i],readOnly:!0,min:"0"}),(0,c.jsx)("button",{onClick:function(){var a=(p[i]||0)+1;a<=f?(h(a,i),g(!1)):g(!0)},children:" + "})]})]}),(0,c.jsxs)("div",{className:"popup-buttons",children:[(0,c.jsx)("button",{onClick:s,className:"popup-button",children:"Kontynuuj zakupy"}),(0,c.jsx)(t.rU,{to:"/cart",className:"popup-button",children:"Przejd\u017a do koszyka"})]})]})})}},236:function(a,e,s){s.r(e),s.d(e,{LoginModal:function(){return d}});var o=s(2791),n=s(1087),t=s(7948),i=s.n(t),l=s(6355),r=s(5561),c=s(184);i().setAppElement("#root");var d=function(){var a=(0,o.useContext)(r.I),e=a.closeLoginModal,s=a.isLoginModalVisible;return(0,c.jsx)(i(),{isOpen:s,onRequestClose:e,className:"login-modal ".concat(s?"fade-in":"fade-out"),overlayClassName:"login-modal-overlay",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.25)"}},children:(0,c.jsxs)("div",{className:"login-popup-box",children:[(0,c.jsx)("h3",{className:"login-popup-message",children:"Musisz by\u0107 zalogowany, aby doda\u0107 produkt do ulubionych!"}),(0,c.jsx)(n.rU,{to:"/login",className:"login-popup-button",onClick:e,children:"Zaloguj si\u0119"}),(0,c.jsx)(l.aHS,{onClick:e,size:28,className:"close-icon"})]})})}},2918:function(a,e,s){s.r(e),s.d(e,{ProductDetails:function(){return m}});var o=s(9439),n=s(2791),t=s(7689),i=s(5561),l=s(8820),r=s(2481),c=s(8645),d=s(236),u=s(7312),p=s(184),m=function(){var a=(0,t.UO)().id,e=(0,n.useContext)(i.I),s=e.addToCart,m=e.cartItems,h=e.products,x=e.addToFavorites,v=e.removeFromFavorites,j=e.favorites,f=e.auth,N=e.db,b=e.showLoginModal,C=e.closeLoginModal,g=e.isLoginModalVisible,y=e.removeFromCart,k=e.updateCartItemCount,z=e.validateCartItemCount,M=(0,t.s0)(),I=h.find((function(e){return e.id===Number(a)})),L=(0,n.useState)(!1),w=(0,o.Z)(L,2),O=w[0],F=w[1],S=(0,n.useState)(1),U=(0,o.Z)(S,2),Z=U[0],P=U[1],V=(0,n.useState)(j&&j[a]),D=(0,o.Z)(V,2),q=D[0],E=D[1],T=(0,n.useState)(!1),_=(0,o.Z)(T,2),R=_[0],A=_[1];(0,n.useEffect)((function(){var e;return f.currentUser&&N&&(e=(0,r.cf)((0,r.JU)(N,"users",f.currentUser.uid),(function(e){var s=e.data();s&&s.hasOwnProperty("favorites")&&E(!!s.favorites[a])}),(function(a){console.error("Error while fetching user data: ",a)}))),function(){e&&e()}}),[f,N,a,j]);if(!I)return(0,p.jsx)("div",{children:"Produkt nie znaleziony"});var H=I.productName,J=I.price,K=I.productImage,B=I.description,G=I.availability,Q=I.discount,W=I.oldPrice;m[a];return(0,p.jsxs)("section",{className:"details",children:[(0,p.jsx)("div",{className:"details-img",children:(0,p.jsx)(c.Z,{small:K,large:K,alt:H})}),(0,p.jsxs)("div",{className:"details-description",children:[(0,p.jsx)("h2",{children:H}),(0,p.jsxs)("div",{className:"details-add-to-fav-container",children:[(0,p.jsx)("button",{className:"details-add-to-fav",onClick:function(e){f.currentUser?q?(v(a),E(!1)):(x(a),E(!0)):b()},children:q?(0,p.jsx)(l.M_L,{}):(0,p.jsx)(l.lo,{})}),(0,p.jsx)("p",{children:"Dodaj do ulubionych"})]}),(0,p.jsx)("p",{className:"details-description-text",children:B}),Q?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("p",{className:"product-discount-old-price-details",children:["Stara cena: ",W," z\u0142"]}),(0,p.jsxs)("p",{className:"product-discount-actual-price-details",children:["Nowa cena: ",J," z\u0142"," "]})]}):(0,p.jsxs)("p",{className:"product-discount-actual-price-details",children:["Cena: ",J," z\u0142"]}),(0,p.jsxs)("p",{className:"details-availability",children:["Dost\u0119pna ilo\u015b\u0107: ",G]}),(0,p.jsxs)("div",{className:"details-count-handler",children:[(0,p.jsxs)("button",{className:"details-count-handler-btn",onClick:function(){return P((function(a){return Math.max(a-1,1)}))},children:[" ","-"," "]}),(0,p.jsx)("input",{className:"details-count-handler-input",value:Z,readOnly:!0}),(0,p.jsx)("button",{className:"details-count-handler-btn",onClick:function(){var a=Z+1;a<=G?(P(a),A(!1)):A(!0)},children:" + "}),(0,p.jsx)("button",{className:"details-add-to-cart-btn",onClick:function(){var e=(m[a]||0)+Z;if(e<=G){for(var s=0;s<Z;s++)z(e,a);A(!1)}else A(!0);F(!0)},children:"Dodaj do koszyka"})]}),R&&(0,p.jsx)("p",{className:"details-max-info",children:"Osi\u0105gni\u0119to maksymaln\u0105 liczb\u0119 dost\u0119pnych produkt\xf3w"})]}),(0,p.jsx)(d.LoginModal,{isVisible:g,closeLoginModal:C}),(0,p.jsx)(u.x,{isModalVisible:O,handleCloseModal:function(){F(!1),C(),M("/")},productName:H,productImage:K,cartItems:m&&m,addToCart:s,removeFromCart:y,updateCartItemCount:k,id:a})]})}}}]);
//# sourceMappingURL=918.ee497d7e.chunk.js.map